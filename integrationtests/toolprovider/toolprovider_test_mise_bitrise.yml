format_version: "17"
default_step_lib_source: https://github.com/bitrise-io/bitrise-steplib.git

tools:
  nodejs: 22:latest
tool_config:
  provider: mise

workflows:
  toolprovider_test:
    steps:
      - script@1:
          title: Test activated tool
          inputs:
            - content: |
                set -ex
                node --version | grep -q "22"
                npm install -g @expo/cli
  node_corepack_test:
    steps:
      - script@1:
          title: Test package managers
          inputs:
            - content: |-
                set -exo pipefail
                node --version
                npm --version
                yarn --version
                pnpm --version
