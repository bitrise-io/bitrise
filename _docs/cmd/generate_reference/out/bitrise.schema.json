{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://github.com/bitrise-io/bitrise/models/bitrise-data-model","$ref":"#/$defs/BitriseDataModel","$defs":{"AppModel":{"properties":{"title":{"type":"string"},"summary":{"type":"string"},"description":{"type":"string"},"status_report_name":{"type":"string"},"envs":{"items":{"$ref":"#/$defs/EnvironmentItemModel"},"type":"array"}},"additionalProperties":false,"type":"object"},"BitriseDataModel":{"properties":{"format_version":{"type":"string"},"default_step_lib_source":{"type":"string"},"project_type":{"type":"string"},"title":{"type":"string"},"summary":{"type":"string"},"description":{"type":"string"},"services":{"additionalProperties":{"$ref":"#/$defs/Container"},"type":"object"},"containers":{"additionalProperties":{"$ref":"#/$defs/Container"},"type":"object"},"app":{"$ref":"#/$defs/AppModel"},"meta":{"type":"object"},"trigger_map":{"$ref":"#/$defs/TriggerMapModel"},"pipelines":{"additionalProperties":{"$ref":"#/$defs/PipelineModel"},"type":"object"},"stages":{"additionalProperties":{"$ref":"#/$defs/StageModel"},"type":"object"},"workflows":{"additionalProperties":{"$ref":"#/$defs/WorkflowModel"},"type":"object"},"step_bundles":{"additionalProperties":{"$ref":"#/$defs/StepBundleModel"},"type":"object"}},"additionalProperties":false,"type":"object","required":["format_version","project_type"]},"Container":{"properties":{"image":{"type":"string"},"credentials":{"$ref":"#/$defs/DockerCredentials"},"ports":{"items":{"type":"string"},"type":"array"},"envs":{"items":{"$ref":"#/$defs/EnvironmentItemModel"},"type":"array"},"options":{"type":"string"}},"additionalProperties":false,"type":"object"},"DockerCredentials":{"properties":{"username":{"type":"string"},"password":{"type":"string"},"server":{"type":"string"}},"additionalProperties":false,"type":"object"},"EnvironmentItemModel":{"type":"object"},"GraphPipelineRunIfModel":{"properties":{"expression":{"type":"string"}},"additionalProperties":false,"type":"object"},"GraphPipelineWorkflowListItemModel":{"additionalProperties":{"$ref":"#/$defs/GraphPipelineWorkflowModel"},"type":"object"},"GraphPipelineWorkflowModel":{"properties":{"depends_on":{"items":{"type":"string"},"type":"array"},"abort_on_fail":{"type":"boolean"},"run_if":{"$ref":"#/$defs/GraphPipelineRunIfModel"},"should_always_run":{"type":"string"},"uses":{"type":"string"},"inputs":{"items":{"$ref":"#/$defs/GraphPipelineWorkflowModelInput"},"type":"array"},"parallel":{"type":"string"}},"additionalProperties":false,"type":"object"},"GraphPipelineWorkflowModelInput":{"type":"object"},"PipelineModel":{"properties":{"title":{"type":"string"},"summary":{"type":"string"},"description":{"type":"string"},"triggers":{"$ref":"#/$defs/Triggers"},"status_report_name":{"type":"string"},"stages":{"items":{"$ref":"#/$defs/StageListItemModel"},"type":"array"},"workflows":{"$ref":"#/$defs/GraphPipelineWorkflowListItemModel"}},"additionalProperties":false,"type":"object"},"PullRequestGitEventTriggerItem":{"properties":{"enabled":{"type":"boolean"},"draft_enabled":{"type":"boolean"},"source_branch":true,"target_branch":true,"label":true,"comment":true,"commit_message":true,"changed_files":true},"additionalProperties":false,"type":"object"},"PushGitEventTriggerItem":{"properties":{"enabled":{"type":"boolean"},"branch":true,"commit_message":true,"changed_files":true},"additionalProperties":false,"type":"object"},"StageListItemModel":{"additionalProperties":{"$ref":"#/$defs/StageModel"},"type":"object"},"StageModel":{"properties":{"title":{"type":"string"},"summary":{"type":"string"},"description":{"type":"string"},"should_always_run":{"type":"boolean"},"abort_on_fail":{"type":"boolean"},"run_if":{"type":"string"},"workflows":{"items":{"$ref":"#/$defs/StageWorkflowListItemModel"},"type":"array"}},"additionalProperties":false,"type":"object"},"StageWorkflowListItemModel":{"additionalProperties":{"$ref":"#/$defs/StageWorkflowModel"},"type":"object"},"StageWorkflowModel":{"properties":{"run_if":{"type":"string"}},"additionalProperties":false,"type":"object"},"StepBundleModel":{"properties":{"title":{"type":"string"},"summary":{"type":"string"},"description":{"type":"string"},"inputs":{"items":{"$ref":"#/$defs/EnvironmentItemModel"},"type":"array"},"envs":{"items":{"$ref":"#/$defs/EnvironmentItemModel"},"type":"array"},"steps":{"items":{"$ref":"#/$defs/StepListItemStepOrBundleModel"},"type":"array"}},"additionalProperties":false,"type":"object"},"StepListItemModel":{"type":"object"},"StepListItemStepOrBundleModel":{"type":"object"},"TagGitEventTriggerItem":{"properties":{"enabled":{"type":"boolean"},"name":true},"additionalProperties":false,"type":"object"},"TriggerMapItemModel":{"properties":{"type":{"type":"string"},"enabled":{"type":"boolean"},"pipeline":{"type":"string"},"workflow":{"type":"string"},"push_branch":true,"commit_message":true,"changed_files":true,"tag":true,"pull_request_source_branch":true,"pull_request_target_branch":true,"draft_pull_request_enabled":{"type":"boolean"},"pull_request_label":true,"pull_request_comment":true,"pattern":{"type":"string"},"is_pull_request_allowed":{"type":"boolean"}},"additionalProperties":false,"type":"object"},"TriggerMapModel":{"items":{"$ref":"#/$defs/TriggerMapItemModel"},"type":"array"},"Triggers":{"properties":{"enabled":{"type":"boolean"},"push":{"items":{"$ref":"#/$defs/PushGitEventTriggerItem"},"type":"array"},"pull_request":{"items":{"$ref":"#/$defs/PullRequestGitEventTriggerItem"},"type":"array"},"tag":{"items":{"$ref":"#/$defs/TagGitEventTriggerItem"},"type":"array"}},"additionalProperties":false,"type":"object"},"WorkflowModel":{"properties":{"title":{"type":"string"},"summary":{"type":"string"},"description":{"type":"string"},"triggers":{"$ref":"#/$defs/Triggers"},"status_report_name":{"type":"string"},"before_run":{"items":{"type":"string"},"type":"array"},"after_run":{"items":{"type":"string"},"type":"array"},"envs":{"items":{"$ref":"#/$defs/EnvironmentItemModel"},"type":"array"},"steps":{"items":{"$ref":"#/$defs/StepListItemModel"},"type":"array"},"meta":{"type":"object"}},"additionalProperties":false,"type":"object"}}}
